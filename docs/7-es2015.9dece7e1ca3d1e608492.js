(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{X3zk:function(o,e,t){"use strict";t.r(e);var n=t("ofXK"),r=t("3Pt+"),c=t("tyNb"),i=t("fXoL");let s=(()=>{class o{getCode(o){let e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",t="";for(let n=0;n<(o||4);n++){const o=Math.floor(Math.random()*e.length);t+=e.charAt(o)}return t}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275prov=i.Sb({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function l(o,e){if(1&o&&(i.cc(0,"div",15),i.cc(1,"span"),i.Qc(2),i.bc(),i.bc()),2&o){const o=i.qc();i.Jb(2),i.Rc(o.user.error)}}const a=[{path:"",component:(()=>{class o{constructor(o,e){this.loginService=o,this.router=e,this.verificationCode="",this.user={userName:"",password:null,code:"",error:""}}ngOnInit(){this.getCode(),this.fillColor()}getCode(){this.verificationCode=this.loginService.getCode(4)}randomNum(o,e){return Math.floor(Math.random()*(e-o)+o)}randomColor(o,e){return`rgb(${this.randomNum(o,e)},${this.randomNum(o,e)},${this.randomNum(o,e)})`}fillColor(){let o=document.getElementById("canvas").getContext("2d");o.fillStyle=this.randomColor(180,230),o.fillRect(0,0,110,34),o.font="30px SimHei",o.fillStyle=this.randomColor(80,180),o.textBaseline="top",o.fillText(this.verificationCode,20,0);for(let e=0;e<6;e++)o.strokeStyle=this.randomNum(0,255).toString(),o.beginPath(),o.moveTo(this.randomNum(0,110),this.randomNum(0,34)),o.lineTo(this.randomNum(0,110),this.randomNum(0,34)),o.stroke();for(let e=0;e<50;e++)o.fillStyle=this.randomNum(0,255).toString(),o.beginPath(),o.arc(this.randomNum(0,110),this.randomNum(0,34),1,0,2*Math.PI),o.fill()}changeCode(){this.getCode(),this.fillColor()}login(){this.checkUserInfo()&&this.router.navigate([])}checkUserInfo(){return this.user.userName||this.user.password?this.user.userName?this.user.password?!(!this.user.code||this.user.code!=this.verificationCode)||(this.user.error="\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801\u6216\u8005\u9a8c\u8bc1\u7801\u8f93\u5165\u6709\u8bef",!1):(this.user.error="\u8bf7\u8f93\u5165\u5bc6\u7801\u4fe1\u606f",!1):(this.user.error="\u8bf7\u8f93\u5165\u8d26\u53f7\u4fe1\u606f",!1):(this.user.error="\u8bf7\u8f93\u5165\u7528\u6237\u4fe1\u606f",!1)}}return o.\u0275fac=function(e){return new(e||o)(i.Wb(s),i.Wb(c.c))},o.\u0275cmp=i.Qb({type:o,selectors:[["app-login"]],decls:26,vars:4,consts:[[1,"login"],[1,"login-box"],[1,"form-group","center"],[1,"login-info"],[1,"form-group"],["for",""],["type","text","placeholder","\u8bf7\u8f93\u5165\u8d26\u53f7",1,"form-control",3,"ngModel","ngModelChange"],["type","password","placeholder","\u8bf7\u8f93\u5165\u5bc6\u7801",1,"form-control",3,"ngModel","ngModelChange"],[1,"code-box"],["type","text","placeholder","\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",1,"form-control",3,"ngModel","ngModelChange"],["id","canvas","width","110","height","34"],[3,"click"],["class","error-box",4,"ngIf"],[1,"operation-box"],["type","button",1,"btn","btn-primary",3,"click"],[1,"error-box"]],template:function(o,e){1&o&&(i.cc(0,"div",0),i.cc(1,"div",1),i.cc(2,"div",2),i.cc(3,"h1"),i.Qc(4,"\u767b\u5f55"),i.bc(),i.bc(),i.cc(5,"div",3),i.cc(6,"div",4),i.cc(7,"label",5),i.Qc(8,"\u7528\u6237\u540d\uff1a"),i.bc(),i.cc(9,"input",6),i.oc("ngModelChange",(function(o){return e.user.userName=o})),i.bc(),i.bc(),i.cc(10,"div",4),i.cc(11,"label",5),i.Qc(12,"\u5bc6\u7801\uff1a"),i.bc(),i.cc(13,"input",7),i.oc("ngModelChange",(function(o){return e.user.password=o})),i.bc(),i.bc(),i.cc(14,"div",4),i.cc(15,"label",5),i.Qc(16,"\u9a8c\u8bc1\u7801\uff1a"),i.bc(),i.cc(17,"div",8),i.cc(18,"input",9),i.oc("ngModelChange",(function(o){return e.user.code=o})),i.bc(),i.Xb(19,"canvas",10),i.cc(20,"span",11),i.oc("click",(function(o){return e.changeCode()})),i.Qc(21,"\u6362\u4e00\u5f20"),i.bc(),i.bc(),i.bc(),i.Oc(22,l,3,1,"div",12),i.bc(),i.cc(23,"div",13),i.cc(24,"button",14),i.oc("click",(function(o){return e.login()})),i.Qc(25,"\u767b \u5f55"),i.bc(),i.bc(),i.bc(),i.bc()),2&o&&(i.Jb(9),i.vc("ngModel",e.user.userName),i.Jb(4),i.vc("ngModel",e.user.password),i.Jb(5),i.vc("ngModel",e.user.code),i.Jb(4),i.vc("ngIf",!e.checkUserInfo()))},directives:[r.c,r.j,r.m,n.u],styles:[".login[_ngcontent-%COMP%]{position:fixed;top:0;right:0;bottom:0;left:0;background:linear-gradient(0deg,#85c1e9,#fdfefe);z-index:10}.login-box[_ngcontent-%COMP%]{position:absolute;width:350px;border-radius:5px;height:500px;background:#fff;box-shadow:0 0 5px #333;top:50%;left:50%;z-index:12;transform:translate(-50%,-50%)}.login-info[_ngcontent-%COMP%], .operation-box[_ngcontent-%COMP%]{padding:10px 20px}.center[_ngcontent-%COMP%]{text-align:center}.code-box[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:150px;float:left;margin-right:5px}.code-box[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:13px;color:#00f;cursor:pointer;margin-left:5px}.operation-box[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:100%}.error-box[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:12px;color:red}"]}),o})(),children:[]}];let d=(()=>{class o{}return o.\u0275mod=i.Ub({type:o}),o.\u0275inj=i.Tb({factory:function(e){return new(e||o)},imports:[[c.g.forChild(a)],c.g]}),o})();t.d(e,"LoginModule",(function(){return u}));let u=(()=>{class o{}return o.\u0275mod=i.Ub({type:o}),o.\u0275inj=i.Tb({factory:function(e){return new(e||o)},imports:[[n.c,r.e,d]]}),o})()}}]);